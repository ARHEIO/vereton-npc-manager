(this["webpackJsonpvereton-npc-manager"]=this["webpackJsonpvereton-npc-manager"]||[]).push([[0],{139:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(28),c=n.n(r),o=(n(80),n(4)),s=n(64),u=n.n(s),d=n(65),l=n.n(d),j=n(18),b=n(5),g=function(t){var e=t.children[0];return"Vereton"===e.name?e:null},h=function(t){return{name:t.name,x:t.x,y:t.y}};var p=function(t){var e=t.app;if(!e)return Object(b.jsx)(j.c,{});var n=e.stage,a=function(t){var e=t.load;try{var a=function(t){var e;return JSON.parse(atob(t)).reduce((e="name",function(t,n){return t[n[e]]=n,t}),{})}(e),i=g(n);null===i||void 0===i||i.children.forEach((function(t){var e=t.name;t.x=a[e].x,t.y=a[e].y}))}catch(r){alert("That chunk is not valid")}};return Object(b.jsx)("header",{className:l.a.appHeader,children:Object(b.jsxs)(j.b,{onSubmit:function(t){return a(t.data)},children:[Object(b.jsx)(j.e,{style:{height:54},name:"load",autoComplete:"off"}),Object(b.jsx)(j.a,{style:{height:54},children:"Load"}),Object(b.jsx)(j.a,{style:{height:54},onClick:function(){var t=g(n);if(!t)throw new Error("Something is wrong");var e=t.children.map(h);prompt("Copy to clipboard: ",btoa(JSON.stringify(e)))},type:"button",children:"Print State"})]})})},O=n.p+"static/media/fool.b3ab9355.jpeg",f=n.p+"static/media/magician.442adec3.jpeg",m=n(17),v=n(46),x=n(24),y=["children","imageUrl","name","startingHeight","startingWidth","startingX","startingY"],w=function(t){var e=t.children,n=t.imageUrl,i=t.name,r=t.startingHeight,c=t.startingWidth,s=t.startingX,u=void 0===s?0:s,d=t.startingY,l=void 0===d?0:d,j=Object(v.a)(t,y),g=function(t){var e=Object(a.useRef)(null),n=Object(a.useState)(!1),i=Object(o.a)(n,2),r=i[0],c=i[1],s=Object(a.useState)(t),u=Object(o.a)(s,2),d=u[0],l=u[1],j=Object(a.useState)({x:0,y:0}),b=Object(o.a)(j,2),g=b[0],h=b[1],p=Object(a.useCallback)((function(t){t.stopPropagation(),c(!0);var e=t.data.global,n=t.target;h({x:e.x-n.x,y:e.y-n.y})}),[]),O=Object(a.useCallback)((function(t){if(r&&e.current){var n=t.data.global,a=n.x,i=n.y;l({x:a-g.x,y:i-g.y})}}),[r,l,g]),f=Object(a.useCallback)((function(){c(!1)}),[]);return{ref:e,interactive:!0,pointerdown:p,pointerup:f,pointerupoutside:f,pointermove:O,alpha:r?.7:1,anchor:.5,position:d}}({x:u,y:l});return Object(b.jsx)(x.Sprite,Object(m.a)(Object(m.a)(Object(m.a)({height:r,width:c,image:n,name:i},g),j),{},{children:e}))},S=function(t){var e=t.imageUrl,n=t.tarotName;return Object(b.jsx)(w,{startingHeight:110,startingWidth:80,imageUrl:e,name:n})},C=n.p+"static/media/vereton.c8e9ebd3.jpeg",k=["children","imageUrl","name","startingHeight","startingWidth","startingX","startingY"],H=function(t){var e=t.children,n=t.imageUrl,i=t.name,r=t.startingHeight,c=t.startingWidth,s=t.startingX,u=void 0===s?0:s,d=t.startingY,l=void 0===d?0:d,j=Object(v.a)(t,k),g=function(t){var e=Object(a.useRef)(null),n=Object(a.useState)(!1),i=Object(o.a)(n,2),r=i[0],c=i[1],s=Object(a.useState)(t),u=Object(o.a)(s,2),d=u[0],l=u[1],j=Object(a.useState)({x:0,y:0}),b=Object(o.a)(j,2),g=b[0],h=b[1];Object(a.useEffect)((function(){var t=function(t){var e=d.x,n=d.y,a=t.deltaX,i=t.deltaY,r=t.shiftKey?{x:d.x-a/2,y:n}:{x:e,y:d.y-i/2};l(r)};return document.addEventListener("mousewheel",t),function(){document.removeEventListener("mousewheel",t)}}));var p=Object(a.useCallback)((function(t){t.stopPropagation(),c(!0);var e=t.data.global,n=t.target;h({x:e.x-n.x,y:e.y-n.y})}),[]),O=Object(a.useCallback)((function(t){if(r&&e.current){var n=t.data.global,a=n.x,i=n.y;l({x:a-g.x,y:i-g.y})}}),[r,l,g]),f=Object(a.useCallback)((function(){c(!1)}),[]);return{ref:e,interactive:!0,pointerdown:p,pointerup:f,pointerupoutside:f,pointermove:O,alpha:r?.9:1,anchor:.5,position:d}}({x:u,y:l});return Object(b.jsx)(x.Sprite,Object(m.a)(Object(m.a)(Object(m.a)({height:r,width:c,image:n,name:i},g),j),{},{children:e}))},E=function(t){var e=t.children;return Object(b.jsx)(H,{startingY:937.5,startingX:724,startingHeight:1875,startingWidth:1448,imageUrl:C,name:"Vereton",children:e})},U=function(){return Object(b.jsxs)(E,{children:[Object(b.jsx)(S,{imageUrl:O,tarotName:"Fool"}),Object(b.jsx)(S,{imageUrl:f,tarotName:"Magician"})]})},L=function(){var t=Object(a.useState)(),e=Object(o.a)(t,2),n=e[0],i=e[1],r=function(){var t=Object(a.useState)(),e=Object(o.a)(t,2),n=e[0],i=e[1],r=function(){return i({width:window.innerWidth,height:window.innerHeight})};return Object(a.useEffect)((function(){return window.addEventListener("resize",r),r(),function(){window.removeEventListener("resize",r)}}),[]),n}();return r?Object(b.jsxs)("div",{className:u.a.app,children:[Object(b.jsx)(p,{app:n}),Object(b.jsx)("main",{children:Object(b.jsx)(x.Stage,{width:r.width-16,height:r.height-146,options:{backgroundColor:11250603},onMount:function(t){return i(t)},children:Object(b.jsx)(U,{})})})]}):Object(b.jsx)(j.d,{})},N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,144)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),a(t),i(t),r(t),c(t)}))};c.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root")),N()},64:function(t,e,n){t.exports={app:"App_app___B2LQ"}},65:function(t,e,n){t.exports={appHeader:"Header_appHeader__2vnkS"}},80:function(t,e,n){}},[[139,1,2]]]);
//# sourceMappingURL=main.419a6254.chunk.js.map