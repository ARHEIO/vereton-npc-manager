(this["webpackJsonpvereton-npc-manager"]=this["webpackJsonpvereton-npc-manager"]||[]).push([[0],{141:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(29),r=n.n(i),s=(n(82),n(5)),o=n(64),j=n.n(o),u=n(26),d=n.n(u),b=n(65),g=n(66),O=n.n(g),v=n(16),x=function(e){return"Vereton"===e.children[0].name&&e.children[0].isSprite?e.children[0]:null},f=function(e){var t=e.stage,n=x(t);if(null==n)throw new Error("Could not find Vereton");var a,c={cards:n.children.map((function(e){return{name:e.name,x:e.x,y:e.y}}))};return a=c,btoa(JSON.stringify(a))},l=n(72),p=function(e){return Object(l.saveAs)(new Blob([e],{type:"text/plain;charset=utf-8"}),"veretonNpcManager.txt")};var h=function(e,t){var n=e.stage,a=x(n);if(null==a)throw new Error("Could not find Vereton");var c=function(e){var t;return{cards:JSON.parse(atob(e)).cards.reduce((t="name",function(e,n){return e[n[t]]=n,e}),{})}}(t);console.log("%c\u29ed","color: #8c0038",c);var i=c.cards;null===a||void 0===a||a.children.forEach((function(e){var t=e.name;e.x=i[t].x,e.y=i[t].y}))},m=n(4),y=function(e){var t=e.app,n=Object(a.useState)(!1),c=Object(s.a)(n,2),i=c[0],r=c[1];if(!t)return Object(m.jsx)(v.f,{});var o=function(){var e=Object(b.a)(d.a.mark((function e(n){var a,c,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.value,e.prev=1,c=Object(s.a)(a,1),i=c[0],e.next=5,i.text();case 5:o=e.sent,h(t,o),r(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),alert("That chunk is not valid");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("header",{className:O.a.appHeader,children:[Object(m.jsx)("div",{}),Object(m.jsx)(v.a,{style:{height:54},onClick:function(){return r(!0)},children:"Load"}),Object(m.jsx)(v.a,{style:{height:54},onClick:function(){var e=f(t);p(e)},type:"button",children:"Print State"}),Object(m.jsx)("div",{})]}),Object(m.jsxs)(v.c,{open:i,children:[Object(m.jsx)(v.e,{title:"Upload your state file"}),Object(m.jsx)(v.d,{children:Object(m.jsx)(v.b,{onChange:o,multiple:!1})})]})]})},w=n(25),S=n(19),T=n(43),C=n.p+"static/media/00.5ebff7ac.svg",k=n.p+"static/media/01.5fab07f8.svg",E=n.p+"static/media/02.53b8e9e1.svg",H=n.p+"static/media/03.ea341e1c.svg",L=n.p+"static/media/04.3c3a8fa4.svg",F=n.p+"static/media/05.19f89b6e.svg",J=n.p+"static/media/06.4a06a086.svg",M=n.p+"static/media/07.32556e92.svg",P=n.p+"static/media/08.04a6dca0.svg",W=n.p+"static/media/09.f7920754.svg",_=n.p+"static/media/10.28698173.svg",N=n.p+"static/media/11.772e7e89.svg",U=n.p+"static/media/12.0adc89bc.svg",V=n.p+"static/media/13.46e562b0.svg",X=n.p+"static/media/14.4f140848.svg",Y=n.p+"static/media/15.879112bf.svg",B=n.p+"static/media/16.4e66ae1a.svg",D=n.p+"static/media/17.ccfb0916.svg",z=n.p+"static/media/18.9ccd55f4.svg",A=n.p+"static/media/19.ec53b90d.svg",I=n.p+"static/media/20.32eed8e0.svg",R=n.p+"static/media/21.974d244e.svg",K=["id","name","svg"],q=function(e){var t=e.id,n=e.name,c=e.svg,i=Object(T.a)(e,K),r=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(!1),c=Object(s.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)(e),j=Object(s.a)(o,2),u=j[0],d=j[1],b=Object(a.useState)({x:0,y:0}),g=Object(s.a)(b,2),O=g[0],v=g[1],x=Object(a.useCallback)((function(e){e.stopPropagation(),r(!0);var t=e.data.global,n=e.target;v({x:t.x-n.x,y:t.y-n.y})}),[]),f=Object(a.useCallback)((function(e){if(i&&t.current){var n=e.data.global,a=n.x,c=n.y;d({x:a-O.x,y:c-O.y})}}),[i,d,O]),l=Object(a.useCallback)((function(){r(!1)}),[]);return{ref:t,interactive:!0,pointerdown:x,pointerup:l,pointerupoutside:l,pointermove:f,alpha:i?.7:1,anchor:.5,position:u}}({x:0,y:0});return Object(m.jsx)(w.Sprite,Object(S.a)(Object(S.a)({height:64,width:131*.4,image:c,name:n},r),i),t)},G=function(){return Object(m.jsx)(q,{id:0,name:"The Fool",svg:C})},Q=function(){return Object(m.jsx)(q,{id:1,name:"The Magician",svg:k})},Z=function(){return Object(m.jsx)(q,{id:2,name:"The Priestess",svg:E})},$=function(){return Object(m.jsx)(q,{id:3,name:"The Empress",svg:H})},ee=function(){return Object(m.jsx)(q,{id:4,name:"The Emperor",svg:L})},te=function(){return Object(m.jsx)(q,{id:5,name:"The Hierophant",svg:F})},ne=function(){return Object(m.jsx)(q,{id:6,name:"The Lovers",svg:J})},ae=function(){return Object(m.jsx)(q,{id:7,name:"The Chariot",svg:M})},ce=function(){return Object(m.jsx)(q,{id:8,name:"Strength",svg:P})},ie=function(){return Object(m.jsx)(q,{id:9,name:"The Hermit",svg:W})},re=function(){return Object(m.jsx)(q,{id:10,name:"The Wheel",svg:_})},se=function(){return Object(m.jsx)(q,{id:11,name:"Justice",svg:N})},oe=function(){return Object(m.jsx)(q,{id:12,name:"The HangedMan",svg:U})},je=function(){return Object(m.jsx)(q,{id:13,name:"Death",svg:V})},ue=function(){return Object(m.jsx)(q,{id:14,name:"Temperance",svg:X})},de=function(){return Object(m.jsx)(q,{id:15,name:"The Devil",svg:Y})},be=function(){return Object(m.jsx)(q,{id:16,name:"The Tower",svg:B})},ge=function(){return Object(m.jsx)(q,{id:17,name:"The Star",svg:D})},Oe=function(){return Object(m.jsx)(q,{id:18,name:"The Moon",svg:z})},ve=function(){return Object(m.jsx)(q,{id:19,name:"The Sun",svg:A})},xe=function(){return Object(m.jsx)(q,{id:20,name:"Judgement",svg:I})},fe=function(){return Object(m.jsx)(q,{id:21,name:"The World",svg:R})},le=n.p+"static/media/vereton.c8e9ebd3.jpeg",pe=["children","imageUrl","name","startingHeight","startingWidth","startingX","startingY"],he=function(e){var t=e.children,n=e.imageUrl,c=e.name,i=e.startingHeight,r=e.startingWidth,o=e.startingX,j=void 0===o?0:o,u=e.startingY,d=void 0===u?0:u,b=Object(T.a)(e,pe),g=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(!1),c=Object(s.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)(e),j=Object(s.a)(o,2),u=j[0],d=j[1],b=Object(a.useState)({x:0,y:0}),g=Object(s.a)(b,2),O=g[0],v=g[1];Object(a.useEffect)((function(){var e=function(e){var t=u.x,n=u.y,a=e.deltaX,c=e.deltaY,i=e.shiftKey?{x:u.x-a/2,y:n}:{x:t,y:u.y-c/2};d(i)};return document.addEventListener("mousewheel",e),function(){document.removeEventListener("mousewheel",e)}}));var x=Object(a.useCallback)((function(e){e.stopPropagation(),r(!0);var t=e.data.global,n=e.target;v({x:t.x-n.x,y:t.y-n.y})}),[]),f=Object(a.useCallback)((function(e){if(i&&t.current){var n=e.data.global,a=n.x,c=n.y;d({x:a-O.x,y:c-O.y})}}),[i,d,O]),l=Object(a.useCallback)((function(){r(!1)}),[]);return{ref:t,interactive:!0,pointerdown:x,pointerup:l,pointerupoutside:l,pointermove:f,alpha:i?.9:1,anchor:.5,position:u}}({x:j,y:d});return Object(m.jsx)(w.Sprite,Object(S.a)(Object(S.a)(Object(S.a)({height:i,width:r,image:n,name:c},g),b),{},{children:t}))},me=function(e){var t=e.children;return Object(m.jsx)(he,{startingY:937.5,startingX:724,startingHeight:1875,startingWidth:1448,imageUrl:le,name:"Vereton",children:t})},ye=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1],i=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1],i=function(){return c({width:window.innerWidth,height:window.innerHeight})};return Object(a.useEffect)((function(){return window.addEventListener("resize",i),i(),function(){window.removeEventListener("resize",i)}}),[]),n}();return i?Object(m.jsxs)("div",{className:j.a.app,children:[Object(m.jsx)(y,{app:n}),Object(m.jsx)("main",{children:Object(m.jsx)(w.Stage,{width:i.width-8,height:i.height-105-54,options:{backgroundColor:11250603},onMount:function(e){return c(e)},children:Object(m.jsxs)(me,{children:[Object(m.jsx)(G,{}),Object(m.jsx)(Q,{}),Object(m.jsx)(Z,{}),Object(m.jsx)($,{}),Object(m.jsx)(ee,{}),Object(m.jsx)(te,{}),Object(m.jsx)(ne,{}),Object(m.jsx)(ae,{}),Object(m.jsx)(ce,{}),Object(m.jsx)(ie,{}),Object(m.jsx)(re,{}),Object(m.jsx)(se,{}),Object(m.jsx)(oe,{}),Object(m.jsx)(je,{}),Object(m.jsx)(ue,{}),Object(m.jsx)(de,{}),Object(m.jsx)(be,{}),Object(m.jsx)(ge,{}),Object(m.jsx)(Oe,{}),Object(m.jsx)(ve,{}),Object(m.jsx)(xe,{}),Object(m.jsx)(fe,{})]})})}),Object(m.jsx)("footer",{style:{backgroundColor:"#282c34",height:"54px"}})]}):Object(m.jsx)(v.g,{})},we=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,146)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(ye,{})}),document.getElementById("root")),we()},64:function(e,t,n){e.exports={app:"App_app__3sfwd"}},66:function(e,t,n){e.exports={appHeader:"Header_appHeader__2vnkS"}},82:function(e,t,n){}},[[141,1,2]]]);
//# sourceMappingURL=main.45f5b942.chunk.js.map